---
title: "Contentfulã®UI Extensionsã®ç´¹ä»‹"
emoji: "ğŸ’­"
type: "idea" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Contentful"]
published: false
---

ä»•äº‹ã§ Contentful ã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã§ã™ãŒã€Contentful ã® UI Extensions ã¨ã„ã†æ©Ÿèƒ½ã‚’åˆã‚ã¦ä½¿ã£ã¦ã€ä¾¿åˆ©ã ã£ãŸã®ã§ãã®ç´¹ä»‹ã§ã™ã€‚

## UI Extensions ã¨ã¯

Contentful ã® Web ã‚¢ãƒ—ãƒªã®åŸºæœ¬æ©Ÿèƒ½ã‚’æ‹¡å¼µã•ã›ã¦ãã‚Œã‚‹ã‚‚ã®ã§ã™ã€‚
å…¥åŠ›ã™ã‚‹éš›ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚’ã‚ˆã‚Šä½¿ã„ã‚„ã™ãã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚

å‚è€ƒãƒªãƒ³ã‚¯
https://www.contentful.com/developers/docs/extensibility/ui-extensions/

ä¾‹ï¼š
ãƒ»JSON Form Editor
JSON ã‚’ãã®ã¾ã¾ç·¨é›†ã•ã›ã‚‹ã®ã§ãªãã€GUI çš„ã«ç·¨é›†ã§ãã‚‹ã‚‚ã®ã§ã™ã€‚

ãƒ»Youtube ID
Youtube ã®ãƒªãƒ³ã‚¯ã‚’å…¥åŠ›ã™ã‚‹ã¨ã€id ã ã‘ã‚’æŠ½å‡ºã—ã¦ãã‚Œã‚‹ã‚‚ã®ã§ã™ã€‚

Contentful ã§è¨˜äº‹ã®æŠ•ç¨¿ãªã®ã‚’è¡Œã†ã®ã¯ãƒ“ã‚¸ãƒã‚¹ã‚µã‚¤ãƒ‰ã®æ–¹ãŒå¤šã„ã‹ã¨æ€ã„ã¾ã™ã€‚
UI Extensions ã‚’ä½¿ã„ã€ãã†ã„ã£ãŸéã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®ã«ã‚‚ã‚ˆã‚Šã‚ã‹ã‚Šã‚„ã™ã„å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ä½œã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚

## è¨­å®šã®ä»•æ–¹

ã“ã“ã‹ã‚‰ã¯ã€UI Extensions ã®è¨­å®šã®ä»•æ–¹ã‚’èª¬æ˜ã—ã¾ã™ã€‚

Settings ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€Extensionsï¼ˆã‚¹ã‚¯ã‚·ãƒ§ã®èµ¤æ ï¼‰ã‚’æŠ¼ã—ã¾ã™ã€‚
![](https://storage.googleapis.com/zenn-user-upload/5f4c9daa4000-20220106.png)

ã™ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ãªç”»é¢ã«ãªã‚Šã¾ã™ã€‚
ã“ã“ã§ã€Add extension ã‚’æŠ¼ã™ã¨ Github ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã‹ã€æ–°ã—ãä½œæˆã™ã‚‹ã‹ã‚’é¸ã¹ã‚‹ã®ã§ã€å¿…è¦ãªæ–¹ã‚’é¸ã³ã¾ã™ã€‚ï¼ˆä»Šå›ã¯ã€Github ã‹ã‚‰ã®æ–¹ã§èª¬æ˜ã—ã¾ã™ã€‚ï¼‰
![](https://storage.googleapis.com/zenn-user-upload/b5e5b225928b-20220106.png)

Github ã‹ã‚‰ã®å ´åˆã€ä»¥ä¸‹ã®ã‚ˆã†ãªç”»é¢ã«ãªã‚Šã¾ã™ã€‚
![](https://storage.googleapis.com/zenn-user-upload/6431119ac555-20220107.png)

ãã“ã«ä½¿ã„ãŸã„ extensions ã® Github ã® extensions.json ã® URL ã‚’å…¥åŠ›ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

ä¾‹ãˆã°ã€
youtube-id ã¨ã„ã† extensions ã‚’å…¥ã‚ŒãŸã„ãªã‚‰ã€
`https://github.com/contentful/extensions/blob/master/samples/youtube-id/extension.json`
ã¨ã„ã† URL ã‚’å…¥ã‚Œã¾ã™ã€‚

[https://github.com/contentful/extensions/tree/master/samples](https://github.com/contentful/extensions/tree/master/samples)

ã«ã‚µãƒ³ãƒ—ãƒ«ãŒã‚ã‚Šã¾ã™ã€‚

å…¥åŠ›ã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªç”»é¢ã«ãªã‚Šã¾ã™ã€‚
![](https://storage.googleapis.com/zenn-user-upload/28795cc9d6fa-20220107.png)

### è¨­å®šç”»é¢ã®èª¬æ˜

FieldTypes ã¯ãã®åã®é€šã‚Šã€ã©ã‚“ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã‚¿ã‚¤ãƒ—ã«ã“ã® Extensions ã‚’é©ç”¨ã™ã‚‹ã‹ã§ã™ã€‚

Legacy sidebar extension ã® Yes, this is a legacy sidebar extension ã®ãƒã‚§ãƒƒã‚¯ã¯ä¸è¦ã§ã™ã€‚
ï¼ˆä»˜ã‘ã‚‹ã¨ã‚µã‚¤ãƒ‰ãƒãƒ¼ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ï¼‰

Hosting ã‚‚å…ƒã€…ãƒã‚§ãƒƒã‚¯ã•ã‚Œã¦ã‚‹ Hosted by Contentful (srcdoc)ã§ã„ã„ã§ã™ã€‚
ã‚‚ã—ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚’å¤‰æ›´ã—ãŸã‘ã‚Œã°ã€æŒ‡å®šã—ã¦ãã ã•ã„ã€‚

Code(required)ã«å®Ÿéš›ã«ã©ã‚“ãªæŒ™å‹•ã‚’ã™ã‚‹ã‹ã‚’è¨˜è¿°ã—ã¾ã™ã€‚
Github ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸå ´åˆã¯ã€å…ƒã€…è¨˜è¿°ãŒã‚ã‚Šã¾ã™ã®ã§ã€å¿…è¦ã«å¿œã˜ã¦ã€å€¤ã‚’å¤‰æ›´ã—ã¾ã™ã€‚

å…ƒã€…ã®å…¥åŠ›ç”»é¢
![](https://storage.googleapis.com/zenn-user-upload/56e5349bbbe0-20220114.png)

ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å´ã§ã®è¨­å®š
![](https://storage.googleapis.com/zenn-user-upload/d83c9eca3e42-20220115.png)

å®Ÿéš›ã«è¨­å®šã—ãŸç”»é¢ã¯ä»¥ä¸‹ã§ã™ã€‚Youtube ã®å‹•ç”» URL ã‚’è²¼ã‚Šä»˜ã‘ã‚‹ã¨ã€å‹•ç”»ã® id ã®ã¿ãŒæŠ½å‡ºã•ã‚Œã¦ã¾ã™ã€‚
![](https://storage.googleapis.com/zenn-user-upload/70a24efd489e-20220116.gif)

Youtube ã®å‹•ç”»ã® URL ã‚’ä¸Šã’ã‚‹ã ã‘ã§ã€id ã‚’æŠ½å‡ºã—ã¦ãã‚Œã‚‹ã®ã§ã€ã€Œid ã£ã¦ã©ã‚Œï¼Ÿã€ã¿ãŸã„ãªã‚„ã‚Šã¨ã‚Šã‚‚æ¸›ã‚Šãã†ã§ã™ã­ã€‚

### JSON Form Editor ã®è¨­å®š

å…ˆã»ã©ã¯ YoutubeId ã‚’ä¾‹ã«ç´¹ä»‹ã«ã—ã¾ã—ãŸã€‚
JSON Form Editor ã®å ´åˆã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

æ‰‹é †ã¯ã»ã¨ã‚“ã©åŒã˜ã§ã™ãŒã€
å…¥åŠ›ã™ã‚‹ GitHub ã® URL ãŒä»¥ä¸‹ã«ãªã‚Šã¾ã™ã€‚
`https://github.com/contentful/extensions/blob/master/samples/json-form-editor/extension.json`

FieldTypes ã¯ Object ã«é©ç”¨ã—ãŸã„ã®ã§ã€Object ã«ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚
![](https://storage.googleapis.com/zenn-user-upload/8a7d0e6d07bb-20220129.png)

#### Code(required)ã‚’ç·¨é›†

`window.CONTENTFUL_FORM_EDITOR_SCHEMA`ã®ã¨ã“ã‚ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã™ã€‚

```js
window.CONTENTFUL_FORM_EDITOR_SCHEMA = {
  title: "Person",
  oneOf: [
    {
      $ref: "#/definitions/basicperson",
      title: "Basic Person",
    },
  ],
  definitions: {
    basicperson: {
      title: "Person",
      type: "object",
      id: "person",
      properties: {
        name: {
          type: "string",
          description: "First and Last name",
          minLength: 4,
          propertyOrder: 10,
        },
        age: {
          type: "integer",
          default: 21,
          minimum: 18,
          maximum: 99,
          propertyOrder: 20,
        },
      },
    },
  },
};
```

schema ã®å®šç¾©ã®ä»•æ–¹ã¯ä¸‹è¨˜ã®ãƒªãƒ³ã‚¯ãŒå‚è€ƒã«ãªã‚Šã¾ã™ã€‚
https://github.com/jdorn/json-editor#json-schema-support

å…ƒã€…ã® JSON ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ä»¥ä¸‹ã®ã‚¹ã‚¯ã‚·ãƒ§ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚
![](https://storage.googleapis.com/zenn-user-upload/2bee29b373d8-20220127.png)

ã“ã‚“ãªæ„Ÿã˜ã§ç·¨é›†ã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

JSON ã®ç›´æ¥ç·¨é›†ã™ã‚‹ã‚ˆã†ãªãƒ•ã‚©ãƒ¼ãƒ ã ã£ãŸã®ãŒã€
é€šå¸¸ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

ã“ã‚Œãªã‚‰éã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®æ–¹ã§ã‚‚å…¥åŠ›ã—ã‚„ã™ããªã‚‹ã‹ã¨æ€ã„ã¾ã™ã€‚

### ã¾ã¨ã‚
